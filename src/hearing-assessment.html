<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Free Online Hearing Assessment Tools - Test your hearing health">
  <title>Hearing Assessment Tools - David Dasa</title>
  <link rel="icon" href="/src/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
</head>
<body>

  <!-- Navigation Section -->
  <nav>
    <ul>
      <li class="logo"><a href="https://www.daviddasa.com"><img src="https://github.com/Naijaoracle/daviddasa/blob/9556670c224c56b73e2a7f21ce1a4e27cbc1a90e/src/DD_logo.png?raw=true" alt="Logo" width="50" height="50"></a></li>
      <li class="home-link"><a href="https://www.daviddasa.com/">Home</a></li>
      <li><a href="https://www.daviddasa.com/about">About</a></li>
      <li><a href="https://www.daviddasa.com/projects">Projects</a></li>
      <li><a href="https://www.daviddasa.com/skills">Skills</a></li>
      <li><a href="https://www.daviddasa.com/contact">Contact</a></li>
    </ul>
  </nav>

  <!-- Particles Background -->
  <div id="particles-js"></div>

  <!-- Main Content -->
  <div class="container">
    <main>
      <!-- Introduction -->
      <section id="about">
        <div class="about-content">
          <h1>Hearing Assessment Tools</h1>
          <h2>Test Your Hearing Health</h2>
          <p>Use our interactive tools to assess your hearing capabilities. Please note that these tests are for screening purposes only and do not replace professional medical evaluation.</p>
        </div>
      </section>

      <!-- Test Instructions -->
      <section class="project-card">
        <h2>Before You Begin</h2>
        <div class="instructions-container">
          <div class="instruction-item">
            <h3>Test Requirements</h3>
            <ul class="info-list">
              <li>Use headphones for accurate results</li>
              <li>Find a quiet environment</li>
              <li>Set your device volume to 50%</li>
              <li>Take breaks if needed</li>
            </ul>
          </div>
          <div class="instruction-item">
            <h3>Important Notes</h3>
            <ul class="info-list">
              <li>This is a screening tool, not a diagnosis</li>
              <li>Results may vary based on equipment</li>
              <li>Consult a professional for concerns</li>
              <li>Regular testing is recommended</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Frequency Test -->
      <section class="project-card">
        <div class="test-container">
          <h2>Frequency Hearing Test</h2>
          <div id="frequency-test" class="test-interface">
            <div class="frequency-display">
              <span id="current-frequency">Click Start to Begin</span>
              <div class="volume-control">
                <label for="volume">Volume:</label>
                <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5">
              </div>
            </div>

            <div class="test-controls">
              <button id="start-test" class="test-btn">Start Test</button>
              <button id="heard-btn" class="test-btn" disabled>I Hear It</button>
              <button id="not-heard-btn" class="test-btn" disabled>I Don't Hear It</button>
            </div>

            <div class="results-graph">
              <canvas id="hearing-graph"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- Results Interpretation -->
      <section class="project-card">
        <h2>Understanding Your Results</h2>
        <div class="interpretation-grid">
          <div class="interpretation-item">
            <h3>Frequency Ranges</h3>
            <ul class="info-list">
              <li>Low (20-250 Hz): Bass sounds</li>
              <li>Mid (250-2000 Hz): Speech sounds</li>
              <li>High (2000-20000 Hz): High-pitched sounds</li>
            </ul>
          </div>
          <div class="interpretation-item">
            <h3>Common Signs of Hearing Loss</h3>
            <ul class="info-list">
              <li>Difficulty hearing high frequencies</li>
              <li>Trouble understanding speech</li>
              <li>Asking others to repeat themselves</li>
              <li>Turning up volume frequently</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Additional Resources -->
      <section class="project-card">
        <h2>Hearing Health Resources</h2>
        <div class="resources-grid">
          <div class="resource-item">
            <h3>Prevention Tips</h3>
            <ul class="skills-list">
              <li>Avoid loud noise exposure</li>
              <li>Use hearing protection</li>
              <li>Take listening breaks</li>
              <li>Regular hearing checks</li>
            </ul>
          </div>
          <div class="resource-item">
            <h3>When to Seek Help</h3>
            <ul class="skills-list">
              <li>Sudden hearing loss</li>
              <li>Persistent ringing (tinnitus)</li>
              <li>Difficulty following conversations</li>
              <li>Pain or discomfort</li>
            </ul>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Footer Section -->
  <footer>
    <p>&copy; 2025 David Dasa</p>
  </footer>

  <!-- Hearing Test Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Particles.js Configuration
      particlesJS('particles-js', {
        particles: {
          number: { value: 80, density: { enable: true, value_area: 800 } },
          color: { value: '#2ecc71' },
          shape: { type: 'circle' },
          opacity: { value: 0.5, random: false },
          size: { value: 3, random: true },
          line_linked: {
            enable: true,
            distance: 150,
            color: '#2ecc71',
            opacity: 0.4,
            width: 1
          },
          move: {
            enable: true,
            speed: 2,
            direction: 'none',
            random: false,
            straight: false,
            out_mode: 'out',
            bounce: false,
          }
        },
        interactivity: {
          detect_on: 'canvas',
          events: {
            onhover: { enable: true, mode: 'repulse' },
            onclick: { enable: true, mode: 'push' },
            resize: true
          }
        },
        retina_detect: true
      });

      // Hearing Test Logic
      const startTest = document.getElementById('start-test');
      const heardBtn = document.getElementById('heard-btn');
      const notHeardBtn = document.getElementById('not-heard-btn');
      const frequencyDisplay = document.getElementById('current-frequency');
      const volumeControl = document.getElementById('volume');
      const canvas = document.getElementById('hearing-graph');
      const ctx = canvas.getContext('2d');

      let synth = null;
      let currentFrequency = 0;
      const frequencies = [125, 250, 500, 1000, 2000, 4000, 8000];
      const results = new Map();
      let testRunning = false;

      // Initialize Tone.js
      async function initAudio() {
        await Tone.start();
        synth = new Tone.Oscillator().toDestination();
        synth.volume.value = -20; // Start at a safe volume
      }

      // Update frequency display
      function updateFrequencyDisplay(freq) {
        frequencyDisplay.textContent = `${freq} Hz`;
      }

      // Draw results graph
      function drawGraph() {
        const width = canvas.width;
        const height = canvas.height;
        ctx.clearRect(0, 0, width, height);

        // Draw axes
        ctx.beginPath();
        ctx.strokeStyle = '#092917';
        ctx.moveTo(50, 20);
        ctx.lineTo(50, height - 30);
        ctx.lineTo(width - 20, height - 30);
        ctx.stroke();

        // Plot points
        if (results.size > 0) {
          ctx.beginPath();
          ctx.strokeStyle = '#2ecc71';
          let first = true;
          results.forEach((heard, freq) => {
            const x = 50 + (Math.log10(freq) * (width - 70) / Math.log10(8000));
            const y = height - 30 - (heard ? 50 : 0);
            if (first) {
              ctx.moveTo(x, y);
              first = false;
            } else {
              ctx.lineTo(x, y);
            }
            ctx.arc(x, y, 4, 0, Math.PI * 2);
          });
          ctx.stroke();
        }
      }

      // Start test
      startTest.addEventListener('click', async () => {
        if (!testRunning) {
          await initAudio();
          testRunning = true;
          results.clear();
          currentFrequency = 0;
          startTest.textContent = 'Stop Test';
          heardBtn.disabled = false;
          notHeardBtn.disabled = false;
          playNextFrequency();
        } else {
          stopTest();
        }
      });

      // Play next frequency
      function playNextFrequency() {
        if (currentFrequency < frequencies.length) {
          const freq = frequencies[currentFrequency];
          updateFrequencyDisplay(freq);
          synth.frequency.value = freq;
          synth.start();
        } else {
          stopTest();
        }
      }

      // Stop test
      function stopTest() {
        if (synth) {
          synth.stop();
        }
        testRunning = false;
        startTest.textContent = 'Start Test';
        heardBtn.disabled = true;
        notHeardBtn.disabled = true;
        frequencyDisplay.textContent = 'Test Complete';
        drawGraph();
      }

      // Handle response buttons
      heardBtn.addEventListener('click', () => handleResponse(true));
      notHeardBtn.addEventListener('click', () => handleResponse(false));

      function handleResponse(heard) {
        if (testRunning) {
          results.set(frequencies[currentFrequency], heard);
          synth.stop();
          currentFrequency++;
          setTimeout(playNextFrequency, 1000);
        }
      }

      // Volume control
      volumeControl.addEventListener('input', (e) => {
        if (synth) {
          synth.volume.value = Math.log10(e.target.value) * 20;
        }
      });

      // Initialize canvas size
      function resizeCanvas() {
        canvas.width = canvas.parentElement.clientWidth;
        canvas.height = 200;
        drawGraph();
      }

      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();
    });
  </script>

  <style>
    /* Hearing Test Specific Styles */
    .test-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }

    .test-interface {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 1rem;
      padding: 2rem;
      margin-top: 2rem;
    }

    .frequency-display {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 1.5rem;
      color: #092917;
    }

    .volume-control {
      margin: 1rem 0;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .volume-control input[type="range"] {
      flex: 1;
      height: 8px;
      border-radius: 4px;
      background: rgba(46, 204, 113, 0.2);
      outline: none;
    }

    .volume-control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: #2ecc71;
      border-radius: 50%;
      cursor: pointer;
    }

    .test-controls {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .test-btn {
      background: #2ecc71;
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 0.5rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .test-btn:hover:not(:disabled) {
      background: #27ae60;
      transform: translateY(-2px);
    }

    .test-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .results-graph {
      margin-top: 2rem;
      padding: 1rem;
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .interpretation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .interpretation-item h3 {
      color: #092917;
      margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
      .test-container {
        padding: 1rem;
      }

      .test-controls {
        flex-direction: column;
      }

      .test-btn {
        width: 100%;
      }

      .frequency-display {
        font-size: 1.2rem;
      }
    }
  </style>

</body>
</html> 